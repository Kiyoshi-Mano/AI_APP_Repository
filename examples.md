● 🎯 実行可能な視覚化手法一覧と質問例

  📊 利用可能な12種類の視覚化手法

  | 視覚化手法      | Altair実装                          |
  適用場面    | 質問例                    |
  |------------|-----------------------------------|---------
  |------------------------|
  | bar        | mark_bar()                        |
  カテゴリ別比較 | "地域別の売上を棒グラフで表示して"     |
  | line       | mark_line()                       |
  時系列トレンド | "月別売上推移を線グラフで見せて"      |
  | line_point | mark_line(point=True)             |
  時系列詳細   | "日別売上を線グラフ（ポイント付き）で表示" |
  | area       | mark_area()                       |
  面積・積み上げ | "月別売上をエリアチャートで表示"      |
  | pie        | mark_arc()                        | 構成比
     | "カテゴリ別売上の構成比を円グラフで"    |
  | scatter    | mark_circle()                     |
  相関・分散   | "単価と数量の関係を散布図で分析"      |
  | boxplot    | mark_boxplot()                    |
  分布・外れ値  | "カテゴリ別単価分布を箱ひげ図で"      |
  | heatmap    | mark_rect()                       |
  2次元密度   | "月別・カテゴリ別売上のヒートマップ"    |
  | errorbar   | mark_errorbar()                   |
  誤差・信頼区間 | "月別売上の平均と標準偏差を表示"      |
  | rule       | mark_rule()                       |
  基準線・閾値  | "売上目標ラインを表示"           |
  | density    | transform_density() + mark_area() | 密度分布
      | "売上額の密度分布を表示"          |
  | table      | データフレーム                           |
  生データ表示  | "詳細データを表形式で表示"         |

  🎯 カテゴリ別質問例

  📈 基本分析（棒グラフ・線グラフ）

  "月別カテゴリ別の売上を教えて"
  "販売チャネル別の売上を棒グラフで"
  "地域別の売上合計をグラフで表示"
  "月別売上推移を線グラフで見せて"
  "年間売上トレンドを表示して"

  📊 構成・比較分析

  "カテゴリ別売上の構成比を円グラフで"
  "地域別売上シェアを円グラフで表示"
  "チャネル別売上割合を見せて"

  🔍 相関・分散分析

  "単価と数量の関係を散布図で分析"
  "売上と利益の相関を散布図で"
  "価格帯別の販売数量を散布図で"

  📦 分布・統計分析

  "カテゴリ別単価分布を箱ひげ図で"
  "地域別売上のばらつきを箱ひげ図で"
  "売上額の密度分布を表示"
  "価格の分布を密度プロットで"

  🌡️ ヒートマップ分析

  "月別・カテゴリ別売上のヒートマップ"
  "地域別・チャネル別の取引密度をヒートマップで"
  "週別・顧客セグメント別のヒートマップ"

  📏 統計・エラーバー

  "月別売上の平均と標準偏差を表示"
  "カテゴリ別売上の信頼区間を見せて"
  "地域別売上の誤差範囲を表示"

  📐 基準線・閾値

  "売上目標ラインを表示"
  "平均売上の基準線を引いて"
  "目標達成ラインを表示"

  📅 時系列詳細分析

  "日別売上を線グラフ（ポイント付き）で"
  "週別売上推移を詳細に表示"
  "月別売上をエリアチャートで"

  🚀 高度な分析質問例

  複合分析

  "月別・カテゴリ別売上を積み上げエリアチャートで"
  "地域別売上推移を線グラフ（系列別）で"
  "チャネル別売上分布を箱ひげ図で比較"

  業界特有の分析

  "ABC分析を散布図で（売上×利益率）"
  "季節性分析をヒートマップで（月×カテゴリ）"
  "価格弾力性を散布図で（価格×数量）"

  ⚡ 自動フォールバック機能

  以下の場合、自動的に最適な表示方法にフォールバックします：

  - ヒートマップ → 棒グラフ: X軸・Y軸の値が1種類しかない場合
  - 円グラフ → 表: X・Y軸が指定されていない場合
  - 任意のグラフ → 表: データ型エラー・列名不一致の場合
  - エラー → フォールバック集計: SQL実行失敗時

  🎨 視覚化のカスタマイゼーション

  各グラフには以下が自動設定されます：

  - ツールチップ: 全列のデータ表示
  - 色スキーム: 種類に応じた最適な配色
  - データ型認識: 数値・カテゴリ・時系列の自動判定
  - レスポンシブサイズ: コンテナ幅に応じた自動調整

  これらの視覚化手法により、売上データの多角的な分析が可能で
  す！